* gnetlist -g spice-sdb -o pv.net pv.sch
*********************************************************
* Spice file generated by gnetlist                      *
* spice-sdb version 4.28.2007 by SDB --                 *
* provides advanced spice netlisting capability.        *
* Documentation at http://www.brorson.com/gEDA/SPICE/   *
*********************************************************
*vvvvvvvv  Included SPICE model from pv.sub vvvvvvvv
* Library of models
*
* -----------------------------
* Diodes
* -----------------------------
.model Def D()
* -----------------------------

*******************************
* PV source subcircuit
.SUBCKT PVSOURCE 1 2 Isc=1 Vscale=50
* Setting Isc value
VIsc nsc 0 {Isc}
* Setting Vscale value
Vnum ndev 0 {Vscale}
* Using PV model equation in B source
* (nVT = 0.05); -- (n = 2), (VT = 0.025)
Bpv 1 2 I=-(v(nsc)- 1e-7*(exp(v(1,2)/0.05/v(ndev))-1)>0 ? v(nsc)- 1e-7*(exp(v(1,2)/0.05/v(ndev))-1) : 0)
.ENDS
*******************************
*^^^^^^^^  End of included SPICE model from pv.sub ^^^^^^^^
*
*==============  Begin SPICE netlist of main design ============
VSe nV 0 SIN(0 48 50 0 0 0)
xPV nV 0 PVSOURCE Isc=10 Vscale=50
.INCLUDE pv.sub
.end
